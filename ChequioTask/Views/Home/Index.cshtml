@* Views/Home/Index.cshtml *@
@using Microsoft.AspNetCore.Identity
@{
    ViewData["Title"] = "Welcome";
    bool isAuthenticated = User?.Identity?.IsAuthenticated ?? false;
    bool isAdmin = User.IsInRole("Admin");
}

<section class="py-5 hero-gradient text-white rounded-3 shadow-sm">
    <div class="container">
        <div class="row align-items-center g-4">
            <div class="col-lg-7">
                <h1 class="display-5 fw-bold mb-3">ChequioTask — Cheque Management made simple</h1>
                <p class="lead mb-4">
                    Create, track, and manage cheques with role-based access and a clean, fast interface.
                    Built on ASP.NET Core MVC, Identity, and SQL Server — styled with Bootswatch Flatly.
                </p>

                <div class="d-flex flex-wrap gap-2">
                    @if (!isAuthenticated)
                    {
                        <!-- Primary CTAs for new/returning users -->
                        <a asp-area="Identity" asp-page="/Account/Register" class="btn btn-light btn-lg fw-semibold">Create account</a>
                        <a asp-area="Identity" asp-page="/Account/Login" class="btn btn-outline-light btn-lg">Sign in</a>
                    }
                    else
                    {
                        <!-- Authenticated shortcuts -->
                        <a asp-controller="Cheques" asp-action="Index" class="btn btn-light btn-lg fw-semibold">Open Cheques</a>
                        @if (isAdmin)
                        {
                            <a asp-controller="Cheques" asp-action="Create" class="btn btn-outline-light btn-lg">New Cheque</a>
                        }
                    }
                </div>

                <!-- Tech badges -->
                <div class="mt-4 d-flex flex-wrap gap-2">
                    <span class="badge bg-light text-primary">.NET 9</span>
                    <span class="badge bg-light text-primary">ASP.NET Core MVC</span>
                    <span class="badge bg-light text-primary">Identity + Roles</span>
                    <span class="badge bg-light text-primary">EF Core + SQL Server</span>
                    <span class="badge bg-light text-primary">Bootswatch Flatly</span>
                </div>
            </div>

            <div class="col-lg-5">
                <!-- Simple “app preview” card -->
                <div class="card border-0 shadow-lg">
                    <div class="card-header bg-white">
                        <div class="d-flex align-items-center justify-content-between">
                            <div class="fw-semibold">Cheques (Preview)</div>
                            <div class="text-muted small">Today @DateTime.Now.ToString("HH:mm")</div>
                        </div>
                    </div>
                    <div class="card-body">
                        <div class="table-responsive">
                            <table class="table table-sm align-middle mb-0">
                                <thead class="table-light">
                                    <tr>
                                        <th>#</th>
                                        <th>Payee</th>
                                        <th class="text-end">Amount</th>
                                        <th>Status</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td class="fw-medium">100245</td>
                                        <td>Acme Co.</td>
                                        <td class="text-end">1,250.00 JOD</td>
                                        <td><span class="badge bg-primary">Issued</span></td>
                                    </tr>
                                    <tr>
                                        <td class="fw-medium">100246</td>
                                        <td>John Doe</td>
                                        <td class="text-end">900.00 USD</td>
                                        <td><span class="badge bg-success">Cleared</span></td>
                                    </tr>
                                    <tr>
                                        <td class="fw-medium">100247</td>
                                        <td>Global Mart</td>
                                        <td class="text-end">2,100.00 EUR</td>
                                        <td><span class="badge bg-secondary">Draft</span></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="text-end mt-3">
                            <a asp-controller="Cheques" asp-action="Index" class="btn btn-outline-primary btn-sm">View all</a>
                        </div>
                    </div>
                </div>
                <div class="small text-muted mt-2">* Preview data for illustration only.</div>
            </div>
        </div>
    </div>
</section>

<section class="container my-5">
    <div class="row g-4">
        <div class="col-md-4">
            <div class="card h-100 shadow-sm">
                <div class="card-body">
                    <div class="mb-2 fs-4">🔐 Secure Access</div>
                    <p class="text-muted mb-0">Sign up and sign in with ASP.NET Identity, with role-based authorization for Admin and User.</p>
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="card h-100 shadow-sm">
                <div class="card-body">
                    <div class="mb-2 fs-4">🧾 Fast CRUD</div>
                    <p class="text-muted mb-0">Create, edit, and track cheques quickly. Users view; Admins manage everything end-to-end.</p>
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="card h-100 shadow-sm">
                <div class="card-body">
                    <div class="mb-2 fs-4">🎨 Clean UI</div>
                    <p class="text-muted mb-0">Flatly theme delivers a crisp, professional interface with responsive tables and forms.</p>
                </div>
            </div>
        </div>
    </div>
</section>
